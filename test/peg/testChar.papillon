{-# LANGUAGE PackageImports, QuasiQuotes, FlexibleContexts #-}

import Text.Papillon

import Data.Char

import "monads-tf" Control.Monad.State
import "monads-tf" Control.Monad.Error
import Control.Monad.Trans.Error (Error(..))

type Nil = ()
nil :: Nil
nil = ()

true :: Bool
true = True

main :: IO ()
main = case dv_three $ parse "333" of
	Right ((), _) -> putStrLn "OK!"
	Left err -> putStrLn $ "error: " ++ err

[papillon|

three :: Nil
	= '3'		{ nil }
;
other :: Nil
	= '3':some	{ nil }
;
some :: Char
	= c:[isDigit]	{ c }
;

|]
