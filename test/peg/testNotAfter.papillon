{-# LANGUAGE QuasiQuotes, TypeFamilies #-}

import Text.Papillon

main :: IO ()
main = case something $ parse "abc\ndefn" of
	Right (r, _) -> print r
	Left (ParseError c m p _ _ _) -> putStrLn $ "not match: " ++ show (c, m, p)

true :: Bool
true = True

cons :: a -> [a] -> [a]
cons = (:)
emp :: [a]
emp = []

[papillon|

something :: String
	= !'\n' c s:something	{ cons c s }
	/				{ emp }
;

|]
